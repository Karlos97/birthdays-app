{"version":3,"sources":["components/Layout/Header.module.scss","components/UI/GoBackToBooksListButton.module.scss","components/Layout/Layout.module.scss","components/UI/Notification.module.scss","components/booksList/Book.module.scss","components/booksList/BooksList.module.scss","components/Layout/MainNavigation.module.scss","store/actions/actionsType.js","store/reducers/booksOptionsReducer.js","store/reducers/errorReducer.js","store/reducers/index.js","components/booksList/Book.jsx","components/UI/Spinner.jsx","config/config.js","helper/getData/getBooksList.js","store/actions/notificationActions.js","store/actions/booksActions.js","store/selectors/selectors.js","components/booksList/BooksList.jsx","images/logo_pl.png","components/Layout/Header.jsx","components/UI/GoBackToBooksListButton.jsx","components/Layout/MainNavigation.jsx","components/UI/Notification.jsx","components/Layout/Layout.jsx","helper/getData/getBookDetails.js","components/booksList/BookDetails.jsx","App.jsx","index.jsx"],"names":["module","exports","ADD_BOOKS_TO_BOOK_LIST","SET_LOADING_BOOKS_LIST_DATA_STATUS","SET_LOADING_BOOK_DETAILS_DATA_STATUS","INCREMENT_START_INDEX","SET_NOTIFICATION","defaultState","startIndex","booksPerFetch","loadingBooksListData","loadingBookDetailsData","booksOptionsReducer","state","action","type","payload","books","bookList","bookListAfterFilteringSameIds","Set","map","book","id","find","notificationReducer","combineReducers","booksOptions","notification","Book","title","subtitle","authors","publishedDate","description","smallThumbnail","authorsLayout","reduce","prev","next","className","classes","alt","src","to","Spinner","loading","override","css","size","bookListUrl","getBooksList","genre","bookstListLink","axios","get","then","res","data","items","volumeInfo","imageLinks","setNotification","setLoadingBooksListDataStatus","setLoadingBookDetailsDataStatus","incrementStartIndex","getAndAddBooksToBookList","dispatch","isActive","status","catch","selectShowLoadingBookDetailsData","selectShowBooksList","selectShowNotification","selectShowStartIndex","BooksList","useDispatch","loadingBookListDataSatus","useSelector","booksList","useEffect","Header","FarmaPromLogo","GoBackToBooksListButton","activeClassName","link","active","arrow","MainNavigation","nav","Notification","message","specialClasses","error","success","setTimeout","cssClasses","Layout","children","pathname","useLocation","listInnerRef","useRef","useState","fetchingBooks","setFetchingBooks","isMainpage","mainElementClass","app","onScroll","current","scrollTop","scrollHeight","clientHeight","ref","getBookDetails","bookId","thumbnail","acsTokenLink","accessInfo","epub","publicDomain","BookDetails","params","useParams","history","useHistory","goBack","bookData","setBookData","href","dangerouslySetInnerHTML","__html","App","path","exact","store","createStore","reducerRoot","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0e22ea2a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app-header\":\"Header_app-header__3VeaE\",\"app-header-block\":\"Header_app-header-block__W_cZ8\",\"app-header-block-logo\":\"Header_app-header-block-logo__3Madj\",\"app-header-block-logo-name\":\"Header_app-header-block-logo-name__2zhDz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"GoBackToBooksListButton_link__2vsCq\",\"active\":\"GoBackToBooksListButton_active__2y7-Z\",\"arrow\":\"GoBackToBooksListButton_arrow__CskHR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"Layout_app__3iHya\",\"book-list\":\"Layout_book-list__3Bqd2\",\"book-details\":\"Layout_book-details__2RAy2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"notification\":\"Notification_notification__2QtJv\",\"error\":\"Notification_error__zWtTG\",\"success\":\"Notification_success__2PruW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__1Pflz\",\"book-download\":\"Book_book-download__2X1no\",\"book-top\":\"Book_book-top__O0kbT\",\"book-top-title\":\"Book_book-top-title__29JQ0\",\"book-top-title-details\":\"Book_book-top-title-details__SYAk-\",\"book-top-subtitle\":\"Book_book-top-subtitle__32bsm\",\"book-image\":\"Book_book-image__spobu\",\"book-authors\":\"Book_book-authors__3BmpD\",\"book-description\":\"Book_book-description__3mBbE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"books-list\":\"BooksList_books-list__1M3OU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"MainNavigation_nav__Z1aQ-\"};","export const ADD_BOOKS_TO_BOOK_LIST = 'ADD_BOOKS_TO_BOOK_LIST';\nexport const SET_LOADING_BOOKS_LIST_DATA_STATUS =\n  'SET_LOADING_BOOKS_LIST_DATA_STATUS';\nexport const SET_LOADING_BOOK_DETAILS_DATA_STATUS =\n  'SET_LOADING_BOOK_DETAILS_DATA_STATUS';\nexport const INCREMENT_START_INDEX = 'INCREMENT_START_INDEX';\nexport const SET_NOTIFICATION = 'SET_NOTIFICATION';\n","import {\n  ADD_BOOKS_TO_BOOK_LIST,\n  INCREMENT_START_INDEX,\n  SET_LOADING_BOOKS_LIST_DATA_STATUS,\n  SET_LOADING_BOOK_DETAILS_DATA_STATUS,\n} from '../actions/actionsType';\n\nconst defaultState = {\n  startIndex: 0,\n  booksPerFetch: 15,\n  loadingBooksListData: true,\n  loadingBookDetailsData: true,\n};\n\nconst booksOptionsReducer = (state = defaultState, action) => {\n  switch (action.type) {\n    case SET_LOADING_BOOKS_LIST_DATA_STATUS: {\n      return {\n        ...state,\n        loadingBooksListData: action.payload,\n      };\n    }\n    case SET_LOADING_BOOK_DETAILS_DATA_STATUS: {\n      return {\n        ...state,\n        loadingBookDetailsData: action.payload,\n      };\n    }\n    case ADD_BOOKS_TO_BOOK_LIST: {\n      const books = state.bookList\n        ? [...state.bookList, ...action.payload]\n        : action.payload;\n\n      const bookListAfterFilteringSameIds = [\n        ...new Set(books.map((book) => book.id)),\n      ].map((id) => books.find((book) => book.id === id));\n      return {\n        ...state,\n        bookList: bookListAfterFilteringSameIds,\n      };\n    }\n    case INCREMENT_START_INDEX: {\n      const startIndex = state.startIndex + state.booksPerFetch;\n      return {\n        ...state,\n        startIndex,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n\nexport default booksOptionsReducer;\n","import { SET_NOTIFICATION } from '../actions/actionsType';\n\nconst notificationReducer = (state = {}, action) => {\n  switch (action.type) {\n    case SET_NOTIFICATION:\n      return action.payload;\n    default:\n      return state;\n  }\n};\n\nexport default notificationReducer;\n","import { combineReducers } from 'redux';\nimport booksOptionsReducer from './booksOptionsReducer';\nimport notificationReducer from './errorReducer';\n\nexport default combineReducers({\n  booksOptions: booksOptionsReducer,\n  notification: notificationReducer,\n});\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classes from './Book.module.scss';\n\nconst Book = ({\n  title,\n  subtitle,\n  authors,\n  publishedDate,\n  description,\n  smallThumbnail,\n  id,\n}) => {\n  const authorsLayout = authors?.reduce(\n    (prev, next) => `${prev}, ${next}`,\n  );\n\n  return (\n    <li className={classes.book}>\n      <img\n        className={classes['book-image']}\n        alt=\"Book\"\n        src={smallThumbnail}\n      />\n      <div className={classes['book-top']}>\n        <NavLink\n          to={`/book/${id}`}\n          className={classes['book-top-title']}\n        >\n          {title}\n        </NavLink>\n        {subtitle ? (\n          <p className={classes['book-top-subtitle']}>{subtitle}</p>\n        ) : (\n          <p className={classes['book-top-subtitle']}>\n            See detailed description below.\n          </p>\n        )}\n      </div>\n      <h5 className={classes['book-authors']}>\n        {`${authorsLayout} (${publishedDate})`}\n      </h5>\n      <p className={classes['book-description']}>{description}</p>\n    </li>\n  );\n};\n\nexport default Book;\n","import React from 'react';\nimport { css } from '@emotion/react';\nimport MoonLoader from 'react-spinners/MoonLoader';\n\nfunction Spinner({ loading }) {\n  const override = css`\n    display: block;\n    margin: 2rem auto;\n  `;\n  return <MoonLoader loading={loading} css={override} size={100} />;\n}\n\nexport default Spinner;\n","export const delayForNextFetechBookList = 5000;\nexport const delayForNotificationDismiss = 1000;\nexport const booksPerFetch = 15;\nexport const bookListUrl =\n  'https://www.googleapis.com/books/v1/volumes?q=subject:';\nexport const bookDetailsUrl =\n  'https://www.googleapis.com/books/v1/volumes/';\nexport const appNamePathUsedInRouting = '/FarmaProm-book-app';\nexport const bookDetailsPathUsedInRouting = '/book/:bookId';\n","import axios from 'axios';\nimport { bookListUrl, booksPerFetch } from '../../config/config';\n\nconst getBooksList = (genre = 'fiction', startIndex = 0) => {\n  const bookstListLink = `${bookListUrl}${genre}&startIndex=${startIndex}&maxResults=${booksPerFetch}`;\n\n  return axios.get(bookstListLink).then((res) =>\n    res.data?.items.map((book) => ({\n      title: book.volumeInfo.title,\n      subtitle: book.volumeInfo.subtitle,\n      authors: book.volumeInfo.authors,\n      publishedDate: book.volumeInfo.publishedDate,\n      description: book.volumeInfo.description,\n      smallThumbnail: book.volumeInfo.imageLinks.smallThumbnail,\n      id: book.id,\n    })),\n  );\n};\n\nexport default getBooksList;\n","import { SET_NOTIFICATION } from './actionsType';\n\nexport const setNotification = (payload) => ({\n  type: SET_NOTIFICATION,\n  payload,\n});\n\nexport default setNotification;\n","import getBooksList from '../../helper/getData/getBooksList';\nimport {\n  ADD_BOOKS_TO_BOOK_LIST,\n  INCREMENT_START_INDEX,\n  SET_LOADING_BOOKS_LIST_DATA_STATUS,\n  SET_LOADING_BOOK_DETAILS_DATA_STATUS,\n} from './actionsType';\nimport { setNotification } from './notificationActions';\n\nexport const addBooksToBookList = (payload) => ({\n  type: ADD_BOOKS_TO_BOOK_LIST,\n  payload,\n});\n\nexport const setLoadingBooksListDataStatus = (payload) => ({\n  type: SET_LOADING_BOOKS_LIST_DATA_STATUS,\n  payload,\n});\n\nexport const setLoadingBookDetailsDataStatus = (payload) => ({\n  type: SET_LOADING_BOOK_DETAILS_DATA_STATUS,\n  payload,\n});\nexport const incrementStartIndex = (payload) => ({\n  type: INCREMENT_START_INDEX,\n  payload,\n});\n\nexport const getAndAddBooksToBookList =\n  (genre, startIndex, booksPerFetch) => (dispatch) => {\n    dispatch(setLoadingBooksListDataStatus(true));\n    getBooksList(genre, startIndex, booksPerFetch)\n      .then((books) => {\n        dispatch(addBooksToBookList(books));\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'success',\n            title: 'Book list fetched.',\n          }),\n        );\n        dispatch(setLoadingBooksListDataStatus(false));\n        dispatch(incrementStartIndex());\n      })\n      .catch(() => {\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'error',\n            title: 'Problem with fetching book list.',\n          }),\n        );\n        dispatch(setLoadingBooksListDataStatus(false));\n      });\n  };\n","export const selectShowLoadingBookDetailsData = ({ booksOptions }) =>\n  booksOptions?.loadingBookDetailsData;\n\nexport const selectShowBooksList = ({ booksOptions }) =>\n  booksOptions.bookList;\n\nexport const selectShowNotification = ({ notification }) =>\n  notification;\n\nexport const selectShowStartIndex = ({ booksOptions }) =>\n  booksOptions.startIndex;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Fragment } from 'react/cjs/react.production.min';\nimport classes from './BooksList.module.scss';\nimport Book from './Book';\nimport Spinner from '../UI/Spinner';\nimport { getAndAddBooksToBookList } from '../../store/actions/booksActions';\nimport {\n  selectShowBooksList,\n  selectShowLoadingBookDetailsData,\n} from '../../store/selectors/selectors';\n\nconst BooksList = () => {\n  const dispatch = useDispatch();\n\n  const loadingBookListDataSatus = useSelector(\n    selectShowLoadingBookDetailsData,\n  );\n  const booksList = useSelector(selectShowBooksList);\n\n  useEffect(() => {\n    if (!booksList) {\n      dispatch(getAndAddBooksToBookList());\n    }\n  }, [dispatch, booksList]);\n\n  return (\n    <Fragment>\n      <ul className={classes['books-list']}>\n        {booksList?.map((book) => (\n          <Book\n            title={book.title}\n            subtitle={book.subtitle}\n            authors={book.authors}\n            publishedDate={book.publishedDate}\n            description={book.description}\n            smallThumbnail={book.smallThumbnail}\n            id={book.id}\n            key={book.id}\n          />\n        ))}\n        <Spinner loading={loadingBookListDataSatus} />\n      </ul>\n    </Fragment>\n  );\n};\nexport default BooksList;\n","export default __webpack_public_path__ + \"static/media/logo_pl.5558c896.png\";","import React from 'react';\nimport classes from './Header.module.scss';\nimport FarmaPromLogo from '../../images/logo_pl.png';\n\nconst Header = () => (\n  <header className={classes['app-header']}>\n    <h2>This is recruitment task for Farma Prom company.</h2>\n    <div className={classes['app-header-block']}>\n      <img\n        src={FarmaPromLogo}\n        alt=\"Leocode logo\"\n        className={classes['app-header-block-logo']}\n      />\n      <div className={classes['app-header-block-logo-name']}>\n        Book App\n      </div>\n    </div>\n  </header>\n);\nexport default Header;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { HiArrowNarrowLeft } from 'react-icons/hi';\nimport classes from './GoBackToBooksListButton.module.scss';\n\nconst GoBackToBooksListButton = () => (\n  <>\n    <NavLink\n      to=\"/\"\n      activeClassName={classes.link.active}\n      className={classes.link}\n    >\n      <HiArrowNarrowLeft className={classes.arrow} />\n      <span>Books List</span>\n    </NavLink>\n  </>\n);\n\nexport default GoBackToBooksListButton;\n","import React from 'react';\nimport GoBackToBooksListButton from '../UI/GoBackToBooksListButton';\nimport classes from './MainNavigation.module.scss';\n\nconst MainNavigation = () => (\n  <nav className={classes.nav}>\n    <GoBackToBooksListButton />\n  </nav>\n);\n\nexport default MainNavigation;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { delayForNotificationDismiss } from '../../config/config';\nimport { setNotification } from '../../store/actions/notificationActions';\nimport classes from './Notification.module.scss';\n\nconst Notification = ({ status, title, message }) => {\n  const dispatch = useDispatch();\n  let specialClasses = '';\n\n  if (status === 'error') {\n    specialClasses = classes.error;\n  }\n  if (status === 'success') {\n    specialClasses = classes.success;\n    setTimeout(() => {\n      dispatch(\n        setNotification({\n          isActive: false,\n        }),\n      );\n    }, delayForNotificationDismiss);\n  }\n\n  const cssClasses = `${classes.notification} ${specialClasses}`;\n\n  return (\n    <section className={cssClasses}>\n      <h2>{title}</h2>\n      <p>{message}</p>\n    </section>\n  );\n};\n\nexport default Notification;\n","import { useLocation } from 'react-router-dom';\nimport React, { useRef, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Header from './Header';\nimport {\n  getAndAddBooksToBookList,\n  incrementStartIndex,\n} from '../../store/actions/booksActions';\nimport MainNavigation from './MainNavigation';\nimport classes from './Layout.module.scss';\nimport Notification from '../UI/Notification';\nimport { delayForNextFetechBookList } from '../../config/config';\nimport {\n  selectShowNotification,\n  selectShowStartIndex,\n} from '../../store/selectors/selectors';\n\nconst Layout = ({ children }) => {\n  const { pathname } = useLocation();\n  const listInnerRef = useRef();\n  const dispatch = useDispatch();\n\n  const [fetchingBooks, setFetchingBooks] = useState(false);\n\n  const { isActive, status, title } = useSelector(\n    selectShowNotification,\n  );\n  const startIndex = useSelector(selectShowStartIndex);\n\n  const isMainpage = pathname === '/';\n\n  const onScroll = () => {\n    const { scrollTop, scrollHeight, clientHeight } =\n      listInnerRef.current;\n\n    if (listInnerRef.current) {\n      const pageAtTheBottom =\n        scrollTop + clientHeight >= scrollHeight - clientHeight / 4;\n      if (pageAtTheBottom && isMainpage && !fetchingBooks) {\n        setFetchingBooks(true);\n        dispatch(getAndAddBooksToBookList('fiction', startIndex));\n        dispatch(incrementStartIndex());\n\n        setTimeout(() => {\n          setFetchingBooks(false);\n        }, delayForNextFetechBookList);\n      }\n    }\n  };\n\n  const mainElementClass = !isMainpage\n    ? classes['book-list']\n    : classes['book-details'];\n\n  return (\n    <>\n      <div\n        className={classes.app}\n        onScroll={onScroll}\n        ref={listInnerRef}\n      >\n        <Header />\n        {isActive && <Notification status={status} title={title} />}\n        {!isMainpage && <MainNavigation />}\n        <main className={mainElementClass}>{children}</main>\n      </div>\n    </>\n  );\n};\nexport default Layout;\n","import axios from 'axios';\nimport { bookDetailsUrl } from '../../config/config';\n\nconst getBookDetails = (bookId) =>\n  axios\n    .get(bookDetailsUrl + bookId)\n    .then((res) => res.data)\n    .then((res) => {\n      const authorsLayout = res.volumeInfo.authors?.reduce(\n        (prev, next) => `${prev}, ${next}`,\n      );\n\n      const book = {\n        title: res.volumeInfo.title,\n        subtitle: res.volumeInfo.subtitle || null,\n        authors: authorsLayout,\n        publishedDate: res.volumeInfo.publishedDate,\n        description: res.volumeInfo.description || null,\n        thumbnail: res.volumeInfo.imageLinks?.thumbnail || null,\n        acsTokenLink: res.accessInfo.epub.acsTokenLink || null,\n        publicDomain: res.accessInfo.publicDomain,\n        id: res.id,\n      };\n\n      return book;\n    });\n\nexport default getBookDetails;\n","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams, useHistory } from 'react-router-dom';\nimport Spinner from '../UI/Spinner';\nimport classes from './Book.module.scss';\n\nimport getBookDetails from '../../helper/getData/getBookDetails';\nimport { setLoadingBookDetailsDataStatus } from '../../store/actions/booksActions';\nimport { setNotification } from '../../store/actions/notificationActions';\n\nconst BookDetails = () => {\n  const dispatch = useDispatch();\n  const params = useParams();\n\n  const loadingBookDetailsData = useSelector(\n    ({ booksOptions }) => booksOptions?.loadingBookDetailsData,\n  );\n  const error = useSelector(\n    ({ notification }) => notification.status !== 'error',\n  );\n  const history = useHistory();\n  if (!error) {\n    history.goBack();\n  }\n\n  const [bookData, setBookData] = useState({\n    title: '',\n    subtitle: '',\n    authors: '',\n    publishedDate: '',\n    description: '',\n    thumbnail: '',\n    acsTokenLink: '',\n    publicDomain: '',\n    id: '',\n  });\n\n  const { bookId } = params;\n\n  const {\n    title,\n    subtitle,\n    authors,\n    publishedDate,\n    description,\n    thumbnail,\n    acsTokenLink,\n    publicDomain,\n  } = bookData;\n\n  useEffect(() => {\n    dispatch(setLoadingBookDetailsDataStatus(true));\n\n    getBookDetails(bookId)\n      .then((book) => {\n        setBookData(book);\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'success',\n            title: 'Book details fetched.',\n          }),\n        );\n        dispatch(setLoadingBookDetailsDataStatus(false));\n      })\n      .catch(() => {\n        dispatch(\n          setNotification({\n            isActive: true,\n            status: 'error',\n            title: 'Problem with fetching book details.',\n          }),\n        );\n        dispatch(setLoadingBookDetailsDataStatus(false));\n      });\n  }, [dispatch, bookId]);\n\n  return (\n    <>\n      <Spinner loading={loadingBookDetailsData} />\n      {!loadingBookDetailsData && error && (\n        <div className={classes.book}>\n          <img\n            className={classes['book-image']}\n            alt=\"Book\"\n            src={thumbnail}\n          />\n          <div className={classes['book-top']}>\n            <p className={classes['book-top-title-details']}>\n              {title}\n            </p>\n            <p className={classes['book-top-subtitle']}>{subtitle}</p>\n          </div>\n          <h5 className={classes['book-authors']}>\n            {`${authors} (${publishedDate})`}\n          </h5>\n          {typeof acsTokenLink === 'string' && publicDomain && (\n            <a\n              href={acsTokenLink}\n              className={classes['book-download']}\n            >\n              DOWNLOAD BOOK\n            </a>\n          )}\n\n          <div dangerouslySetInnerHTML={{ __html: description }} />\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default BookDetails;\n","import React from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  BrowserRouter,\n} from 'react-router-dom';\nimport BooksList from './components/booksList/BooksList';\nimport Layout from './components/Layout/Layout';\nimport BookDetails from './components/booksList/BookDetails';\nimport {\n  appNamePathUsedInRouting,\n  bookDetailsPathUsedInRouting,\n} from './config/config';\n\nconst App = () => (\n  <BrowserRouter>\n    <Layout>\n      <Switch>\n        <Route path={appNamePathUsedInRouting} exact>\n          <Redirect to=\"/\" />\n        </Route>\n        <Route path=\"/\" exact>\n          <BooksList />\n        </Route>\n        <Route path={bookDetailsPathUsedInRouting}>\n          <BookDetails />\n        </Route>\n      </Switch>\n    </Layout>\n  </BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducerRoot from './store/reducers/index';\nimport './index.module.scss';\nimport App from './App';\n\nconst store = createStore(reducerRoot, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />,\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}